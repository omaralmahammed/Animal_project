<div class="container mt-5 mb-5">
  <div class="row d-flex align-items-center justify-content-center">
    <div class="col-md-6">
      <div class="card" *ngFor="let post of posts">
        <div class="d-flex justify-content-between p-2 px-3">
          <div class="d-flex flex-row align-items-center">
            <img [src]="'https://localhost:7280/api/Rahaf/getImages/' + post.Image1" width="50" class="rounded-circle">
            <div class="d-flex flex-column ml-2">
              <span class="font-weight-bold">{{ post.UserName }}</span>
              <small class="text-primary">{{ post.AnimalName }}</small>
            </div>
          </div>
          <div class="d-flex flex-row mt-1 ellipsis">
            <small class="mr-2">{{ post.StoryDate | date:'short' }}</small>
            <i class="fa fa-ellipsis-h"></i>
          </div>
        </div>
        <img [src]="'https://localhost:7280/api/Rahaf/getImages/' + post.Image2" class="img-fluid" *ngIf="post.Image2">
        <div class="p-2">
          <p class="text-justify">{{ post.StoryText }}</p>
          <hr>
          <div class="d-flex justify-content-between align-items-center">
            <div class="d-flex flex-row icons d-flex align-items-center">
              <i class="fa fa-heart"></i>
              <i class="fa fa-smile-o ml-2"></i>
            </div>
            <div class="d-flex flex-row muted-color">
              <span>{{ post.LikeNumber }} likes</span>
              <span class="ml-2">{{ post.Comments.length }} comments</span>
              <span class="ml-2">Share</span>
            </div>
          </div>
          <hr>
          <div class="comments">
            <div *ngFor="let comment of post.Comments | slice:0:commentsToShow" class="d-flex flex-row mb-2">
              <img src="https://i.imgur.com/9AZ2QX1.jpg" width="40" class="rounded-image">
              <div class="d-flex flex-column ml-2">
                <span class="name">{{ comment.UserName }}</span>
                <small class="comment-text">{{ comment.CommentText }}</small>
                <div class="d-flex flex-row align-items-center status">
                  <small>Like</small>
                  <small>Reply</small>
                  <small>{{ comment.CommentDate | date:'short' }}</small>
                </div>
              </div>
            </div>
            <!-- زر "عرض المزيد" -->
            <div *ngIf="post.Comments.length > commentsToShow">
              <button (click)="showMoreComments(post)" class="btn btn-link">Show All Comments</button>
            </div>
            <div class="comment-input">
              <input type="text" class="form-control" placeholder="Add a comment...">
              <div class="fonts">
                <i class="fa fa-camera"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
